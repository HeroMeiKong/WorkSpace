<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width,user-scalable=no, initial-scale=1.0, minimum-scale=1, maximum-scale=1"/>
    <meta name="theme-color" content="#000000" />
    <meta name='keywords' content='converter for youtube,imovie for pc,avi to mp4 converter,best free video converter,converter avi to mp4,converter speed,converter software,converter mp4,converter to mp4,convert video,format,convertidor, video converter, mp4 converter, video converter online, free video converter, video converter free, video converter to mp4, video converter download, video online converter, video file free, file converter to mp4, convert video, convert to mp4, best mp4 converter, mov to mp4, mpeg to mp4, wmv to mp4, rm to mp4, rmvb to mp4, mpeg1 to mp4, mpeg2 to mp4, mpeg4 to mp4, 3gp to mp4, asf to mp4, swf to mp4, vob to mp4, dat to mp4, flv to mpp4, f4v to mp4, mkv to mp4' />
    <meta name="description" content='Dolphin MP4 Converter is a software you can use to convert any format video files to mp4 online. No download required. ' />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Dolphin MP4 Converter - Video Converter, MP4 Free Online File Converter</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140732432-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-140732432-1');
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script>
    !(function(){
      let dataform = {
          u_id: '',
          from: '',
          to: '',
          source: '',
        }
      let hostname = window.location.hostname
      dataform.u_id = getUserInfo()
      dataform.from = getFrom()
      dataform.to = window.location.href
      dataform.source = getSource()
      if(window.location.href !== window.location.origin+'/#/'){ //预上线
      // if(window.location.href !== window.location.origin+'/'){ //线上
        let request = new XMLHttpRequest();
        let data = 'u_id='+dataform.u_id+'&from='+dataform.from+'&to='+dataform.to+'&source='+dataform.source
        request.open('post','https://cd.foundao.com:10081/foundao_api/statistics/pv_uv/index'); //预上线
        // request.open('post','https://www.convert-mp4.com/api/statistics/pv_uv/index'); //线上 
        request.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8')
        request.send(data);
        request.onreadystatechange = () => {
          if(request.readyState === 4) {
            if(request.status >= 200 && request.status < 300){
              let str = request.responseText
              let obj = window.JSON.parse(str)
              console.log('success')
            }
          }
        };
      } else {
        console.log('same')
      };
      function getUserInfo() {
        if(getUserData_storage('dolphin_userInfo') && getUserData_storage('dolphin_userInfo').token){
          return getUserData_storage('dolphin_userInfo').token
        } else 
        return ''
      };
      function getFrom() {
          return document.referrer ? document.referrer : ''
      };
      function getSource() {
        if(document.referrer){
          if(document.referrer.indexOf(hostname) > -1){
            return 'foundao'
          } else {
            return 'link'
          }
        } else {
          return ''
        }
      };
      function getUserData_storage(name) {
        const userInfo_string_escape = localStorage.getItem(name);
        let userInfo = {};
        if (userInfo_string_escape) {
          // 进行过编码处理 需要解密
          let userInfo_string = window.decodeURIComponent(userInfo_string_escape);
          userInfo = JSON.parse(userInfo_string);
        }
        return userInfo;
      };
    })()
    </script>
  </body>
</html>
