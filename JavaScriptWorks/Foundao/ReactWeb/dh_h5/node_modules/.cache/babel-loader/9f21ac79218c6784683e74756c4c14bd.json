{"ast":null,"code":"import _classCallCheck from \"/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/src/components/ListStyleSnd/index.js\";\nimport React, { Component } from 'react';\nimport './index.scss';\nimport tool from '../../tool';\nimport $ from \"jquery\";\nimport api from \"../../API/api\";\n\nvar List =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(List, _Component);\n\n  function List(props) {\n    var _this2;\n\n    _classCallCheck(this, List);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n\n    _this2.getVideo = function () {\n      var _this = _assertThisInitialized(_assertThisInitialized(_this2));\n\n      var ti;\n      ti = setInterval(function () {\n        if (window.jQuery('.videoBox').find('video').get(0)) {\n          var box = document.getElementsByClassName('videoBox');\n\n          for (var a in box) {\n            if (window.jQuery(box[a]).find('video').get(0)) {\n              var videoDom = window.jQuery(box[a]).find('video').get(0);\n              videoDom.setAttribute('webkit-playsinline', true);\n              videoDom.setAttribute('x-webkit-airplay', true);\n              videoDom.setAttribute('x5-playsinline', true);\n            }\n          }\n\n          clearInterval(ti);\n        }\n      }, 1000);\n    };\n\n    _this2.setSndVideo = function (listData) {\n      var _player_width = document.body.clientWidth || window.innerWidth;\n\n      _player_width = parseInt(_player_width) >= 750 ? 750 : parseInt(_player_width);\n\n      var _player_height = parseInt(_player_width * 9 / 16);\n\n      function creatMultiPlayerTest(divid, pid, isAutoPlay, posterImg) {\n        var fo = window.createCommonPlayer(divid, _player_width, _player_height, \"jiankang\", isAutoPlay, posterImg);\n\n        if (fo) {\n          fo.addVariable(\"id\", \"null\");\n          fo.addVariable(\"videoId\", \"VIDE100215108600\");\n          fo.addVariable(\"articleId\", \"\");\n          fo.addVariable(\"filePath\", \"\");\n          fo.addVariable(\"sysSource\", \"\"); //视频来源\n\n          fo.addVariable(\"channelId\", \"\");\n          fo.addVariable(\"url\", \"\"); //视频页面url，如http://tv.cntv.cn/video/C18472/a28126e5e0424a44af6a9bc4c5a47742\n\n          fo.addVariable(\"scheduleId\", \"C18472000001\"); //关键字\n\n          fo.addVariable(\"videoCenterId\", pid); //视频生产中心guid (必要值)\n\n          fo.addVariable(\"isLogin\", \"\"); //用户中心相关\n\n          fo.addVariable(\"userId\", \"\"); //用户中心相关\n\n          fo.addVariable(\"wideMode\", \"normal\");\n          fo.addVariable(\"adCall\", \"\"); //前贴片广告\n\n          fo.addVariable(\"adAfter\", \"\"); //后贴广告\n\n          fo.addVariable(\"adPause\", \"\"); //暂停广告\n\n          fo.addVariable(\"adCorner\", \"\"); //角标广告\n\n          fo.addVariable(\"adCurtain\", \"\"); //跑马灯广告\n\n          window.writePlayer(fo, divid, \"\", \"\");\n        }\n      }\n\n      setTimeout(function () {\n        for (var i in listData) {\n          var vdiv = 'sndVideo' + i;\n          creatMultiPlayerTest(vdiv, listData[i].vid, false, listData[i].imgUrl);\n        }\n      }, 0);\n    };\n\n    _this2.CommentVideo = function (item) {\n      var mid = '17aQfAjy0815';\n\n      if (tool.is_wxBrowser()) {\n        tool.jumpToApp('23', mid);\n      } else if (tool.is_shici()) {\n        if (window.localStorage.getItem(\"user_info\")) {\n          window.location.href = 'getguid://guid=' + item.vid + '&title=' + encodeURI(item.title);\n        } else {\n          window.location.href = 'login://app.cctv.cn';\n        }\n      } else {\n        tool.jumpToApp('23', mid);\n      }\n    };\n\n    _this2.state = {\n      data: {} //推荐页所有数据\n\n    };\n    _this2.falg = false;\n    return _this2;\n  }\n\n  _createClass(List, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      var data = nextProps.data || [];\n      var listData = data ? data : [];\n      this.setSndVideo(listData);\n      this.getVideo();\n    }\n    /*video创建完成*/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var data = this.props.data;\n      var listData = data ? data : []; // console.log(listData)\n\n      return React.createElement(\"div\", {\n        className: \"list-box lookStyle_2-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"ulList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, listData.map(function (item, index) {\n        // console.log(item)\n        return React.createElement(\"li\", {\n          key: 'list' + index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pic\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"videoBox\",\n          id: 'sndVideo' + index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }), React.createElement(\"h2\", {\n          className: \"video-title limit-line2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, item.title), React.createElement(\"p\", {\n          className: \"video-length\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, item.video_length)), React.createElement(\"div\", {\n          className: \"list-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, item.vtype / 1 === 1 ? React.createElement(\"a\", {\n          href: \"http://app.cctv.com/special/cbox/detail/index.html?guid=\" + item.vid + \"&mid=17aQfAjy0815&vsid=\" + item.vsetId,\n          className: \"seewhole\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, \"\\u770B\\u6574\\u671F\") : item.vtype / 1 === 3 ? React.createElement(\"a\", {\n          href: \"http://app.cctv.com/special/cbox/detail/index.html?guid=\" + item.vid + \"&mid=17aQfAjy0815&vsid=\" + item.vsetId,\n          className: \"seewhole\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"\\u770B\\u6574\\u671F\") : item.vtype / 1 === 7 ? React.createElement(\"a\", {\n          href: item.pcUrl,\n          className: \"seewhole\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \"\\u770B\\u6574\\u671F\") : item.vtype / 1 === 8 ? React.createElement(\"a\", {\n          href: \"http://app.cctv.com/special/cbox/newlive/index.html?channel=\" + item.channelId,\n          className: \"seewhole\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, \"\\u770B\\u6574\\u671F\") : item.vtype / 1 === 23 ? React.createElement(\"a\", {\n          href: \"http://cbox.cntv.cn/special/cbox/fastvideo/index.html?id=\" + item.vsetPageid + \"&guid=\" + item.vid + \"vtype=47\",\n          className: \"seewhole\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, \"\\u770B\\u6574\\u671F\") : \"\", React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"commen-btn\",\n          onClick: _this3.CommentVideo.bind(_this3, item),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, \"\\u8BC4\\u8BBA\"))));\n      })));\n    }\n  }]);\n\n  return List;\n}(Component);\n\nexport { List as default };","map":{"version":3,"sources":["/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/src/components/ListStyleSnd/index.js"],"names":["React","Component","tool","$","api","List","props","getVideo","_this","ti","setInterval","window","jQuery","find","get","box","document","getElementsByClassName","a","videoDom","setAttribute","clearInterval","setSndVideo","listData","_player_width","body","clientWidth","innerWidth","parseInt","_player_height","creatMultiPlayerTest","divid","pid","isAutoPlay","posterImg","fo","createCommonPlayer","addVariable","writePlayer","setTimeout","i","vdiv","vid","imgUrl","CommentVideo","item","mid","is_wxBrowser","jumpToApp","is_shici","localStorage","getItem","location","href","encodeURI","title","state","data","falg","nextProps","nextContext","map","index","video_length","vtype","vsetId","pcUrl","channelId","vsetPageid","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './index.scss';\nimport tool from '../../tool'\nimport $ from \"jquery\";\nimport api from \"../../API/api\";\nexport default class List extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data:{},//推荐页所有数据\n\n    };\n    this.falg=false;\n  }\n\n  componentDidMount() {\n\n  }\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    let data=nextProps.data || [];\n    let listData = data?data:[];\n    this.setSndVideo(listData);\n    this.getVideo();\n  }\n\n  /*video创建完成*/\n  getVideo=()=>{\n    let _this = this;\n    let ti;\n    ti = setInterval(function () {\n      if(window.jQuery('.videoBox').find('video').get(0)){\n        let box = document.getElementsByClassName('videoBox');\n        for (let a in box){\n          if (window.jQuery(box[a]).find('video').get(0)) {\n            let videoDom = window.jQuery(box[a]).find('video').get(0);\n            videoDom.setAttribute('webkit-playsinline',true);\n            videoDom.setAttribute('x-webkit-airplay',true);\n            videoDom.setAttribute('x5-playsinline',true);\n          }\n        }\n        clearInterval(ti)\n      }\n    },1000)\n  }\n\n  setSndVideo = (listData)=>{\n    let _player_width = document.body.clientWidth|| window.innerWidth;\n    _player_width = parseInt(_player_width)>=750?750:parseInt(_player_width);\n    let _player_height = parseInt(_player_width*9/16);\n    function creatMultiPlayerTest(divid, pid, isAutoPlay, posterImg){\n      let fo = window.createCommonPlayer(divid,_player_width,_player_height,\"jiankang\", isAutoPlay, posterImg);\n      if (fo){\n        fo.addVariable(\"id\", \"null\");\n        fo.addVariable(\"videoId\", \"VIDE100215108600\");\n        fo.addVariable(\"articleId\", \"\");\n        fo.addVariable(\"filePath\", \"\");\n        fo.addVariable(\"sysSource\", \"\");//视频来源\n        fo.addVariable(\"channelId\", \"\");\n        fo.addVariable(\"url\", \"\");//视频页面url，如http://tv.cntv.cn/video/C18472/a28126e5e0424a44af6a9bc4c5a47742\n        fo.addVariable(\"scheduleId\", \"C18472000001\");//关键字\n        fo.addVariable(\"videoCenterId\",pid); //视频生产中心guid (必要值)\n        fo.addVariable(\"isLogin\", \"\");//用户中心相关\n        fo.addVariable(\"userId\", \"\");//用户中心相关\n        fo.addVariable(\"wideMode\", \"normal\");\n        fo.addVariable(\"adCall\", \"\");\t//前贴片广告\n        fo.addVariable(\"adAfter\",\"\");\t//后贴广告\n        fo.addVariable(\"adPause\", \"\");\t//暂停广告\n        fo.addVariable(\"adCorner\", \"\");\t//角标广告\n        fo.addVariable(\"adCurtain\", \"\");//跑马灯广告\n        window.writePlayer(fo,divid,\"\",\"\");\n      }\n    }\n    setTimeout(function () {\n      for (let i in listData){\n        let vdiv = 'sndVideo'+i;\n        creatMultiPlayerTest(vdiv, listData[i].vid, false, listData[i].imgUrl);\n      }\n    },0)\n\n  };\n\n  CommentVideo=(item)=>{\n    let mid = '17aQfAjy0815';\n    if(tool.is_wxBrowser()){\n      tool.jumpToApp('23', mid);\n    }else if (tool.is_shici()){\n      if (window.localStorage.getItem(\"user_info\")){\n        window.location.href ='getguid://guid='+item.vid+'&title='+encodeURI(item.title);\n      }else {\n        window.location.href='login://app.cctv.cn';\n      }\n    } else {\n      tool.jumpToApp('23', mid);\n    }\n  };\n\n  render() {\n    const {data} = this.props;\n    let listData = data?data:[];\n    // console.log(listData)\n    return (\n      <div className='list-box lookStyle_2-box'>\n        <ul className='ulList'>\n          {listData.map((item,index)=>{\n            // console.log(item)\n            return <li key={'list'+index}>\n              <div className='pic'>\n                <div className='videoBox' id={'sndVideo'+index}></div>\n                {/*<img src={item.imgUrl} alt={item.title}/>*/}\n                {/*<a href={\"http://app.cctv.com/special/cbox/detail/index.html?guid=\"+item.vid+\"&mid=18NJVZji0319&vsid=\"+item.vsetId}><p className='play-btn'></p></a>*/}\n                <h2 className='video-title limit-line2'>{item.title}</h2>\n                <p className='video-length'>{item.video_length}</p>\n              </div>\n              <div className='list-info'>\n                {item.vtype/1===1 ?\n                  <a href={\"http://app.cctv.com/special/cbox/detail/index.html?guid=\"+item.vid+\"&mid=17aQfAjy0815&vsid=\"+item.vsetId} className='seewhole'>看整期</a>\n                  :\n                  item.vtype/1===3 ?\n                    <a href={\"http://app.cctv.com/special/cbox/detail/index.html?guid=\"+item.vid+\"&mid=17aQfAjy0815&vsid=\"+item.vsetId} className='seewhole'>看整期</a>\n                    :\n                    item.vtype/1===7 ?\n                      <a href={item.pcUrl} className='seewhole'>看整期</a>\n                      :\n                      item.vtype/1===8 ?\n                        <a href={\"http://app.cctv.com/special/cbox/newlive/index.html?channel=\"+item.channelId} className='seewhole'>看整期</a>\n                        :\n                        item.vtype/1===23 ?\n                          <a href={\"http://cbox.cntv.cn/special/cbox/fastvideo/index.html?id=\"+item.vsetPageid+\"&guid=\"+item.vid+\"vtype=47\"} className='seewhole'>看整期</a>\n                          :\n                          \"\"\n                }\n                {/*<a href={\"http://app.cctv.com/special/cbox/detail/index.html?guid=\"+item.vid+\"&mid=19RJRJF30114&vsid=\"+item.vsetId} className='seewhole'>看整期</a>*/}\n                <div>\n                  <p className='commen-btn' onClick={this.CommentVideo.bind(this,item)}>评论</p>\n                  {/*<p className='fellow-btn'>点赞</p>*/}\n                </div>\n              </div>\n            </li>\n          })}\n        </ul>\n\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}