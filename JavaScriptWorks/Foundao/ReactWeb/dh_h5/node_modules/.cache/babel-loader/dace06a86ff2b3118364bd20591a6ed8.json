{"ast":null,"code":"var Tool = {\n  timeModel: function timeModel(time) {\n    var time = Math.round(parseFloat(time));\n    var second = parseInt(time % 60);\n    var minute = parseInt((time - second) / 60) % 60;\n\n    var res = this._addZero(minute) + \":\" + this._addZero(second);\n\n    return res;\n  },\n  fen_miao: function fen_miao(time) {\n    var time = Math.round(parseFloat(time));\n    var second = parseInt(time % 60);\n    var minute = parseInt((time - second) / 60) % 60;\n    var res = (minute === 0 ? '' : minute + '分') + second + '秒';\n    return res;\n  },\n  _addZero: function _addZero(obj) {\n    if (obj < 10) return \"0\" + obj;else return obj;\n  },\n  addEventHandler: function addEventHandler(target, type, fn) {\n    if (target.addEventListener) {\n      target.addEventListener(type, fn);\n    } else {\n      target.attachEvent('on' + type, fn);\n    }\n  },\n  removeEventHandler: function removeEventHandler(target, type, fn) {\n    if (target.removeEventListener) {\n      target.removeEventListener(type, fn);\n    } else {\n      target.detachEvent('on' + type, fn);\n    }\n  },\n  getVideoModel: function getVideoModel(name) {\n    var n = name.split('?')[0];\n    var end = n.lastIndexOf('.');\n    return n.substring(end + 1);\n  },\n  timeFormat: function timeFormat(num) {\n    num = parseInt(num);\n\n    if (!isNaN(num) && num) {\n      var hour = Math.floor(num / 3600);\n      var min = Math.floor((num - hour * 3600) / 60);\n      var second = num % 60; // return (hour ? this._addZero(hour) + ':' : '') + this._addZero(min) + ':' + this._addZero(second)\n\n      return this._addZero(hour) + ':' + this._addZero(min) + ':' + this._addZero(second);\n    } else {\n      return '00:00:00';\n    }\n  },\n  getRequest: function getRequest() {\n    var url = decodeURI(window.location.href);\n    var theRequest = new Object();\n    var start = url.lastIndexOf(\"?\"); //ios现在是两个问号\n\n    var end = url.lastIndexOf(\"#\");\n\n    if (start != -1) {\n      var str = '';\n\n      if (end > start) {\n        str = url.substring(start + 1, end);\n      } else {\n        str = url.substr(start + 1);\n      }\n\n      var strs = str.split(\"&\");\n\n      for (var i = 0; i < strs.length; i++) {\n        var e = strs[i].indexOf('=');\n        theRequest[strs[i].substring(0, e)] = unescape(strs[i].substring(e + 1));\n      }\n    }\n\n    return theRequest;\n  },\n  RandomNum: function RandomNum(Min, Max) {\n    var Range = Max - Min;\n    var Rand = Math.random();\n    var num = Min + Math.floor(Rand * Range); //舍去\n\n    return num;\n  },\n  is_wxBrowser: function is_wxBrowser() {\n    return /micromessenger/.test(navigator.userAgent.toLowerCase());\n  },\n  is_iOS: function is_iOS() {\n    return /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent);\n  },\n  is_android: function is_android() {\n    return /android/i.test(navigator.userAgent);\n  },\n  is_shici: function is_shici() {\n    return /CntvCBox/i.test(navigator.userAgent);\n  },\n  jumpToApp: function jumpToApp(vtype, mid) {\n    this.openApp(\"cntvcbox://app.cntv.cn/\" + \"?vtype=\" + vtype + \"&mid=\" + mid, \"../download/index.html?vtype=23&mid=\".concat(mid, \"&type=1\"));\n  },\n  openApp: function openApp(clientUrl, fail) {\n    var newurl = encodeURIComponent(clientUrl);\n    window.location.href = 'https://a.app.qq.com/o/simple.jsp?pkgname=cn.cntv&ios_scheme=' + newurl + '&android_schema=' + newurl;\n  },\n\n  /*获取客户端传回来的值\n  * userId 用户id\n  * verifycode  用户的verifycode\n  * isSubed  是否关注   0 未关注  1 关注\n  * */\n  appCallBackGetUser: function appCallBackGetUser(userId, verifycode, isSubed) {\n    var userInfo = {\n      userId: userId,\n      isSubed: isSubed\n    };\n    document.cookie = \"verifycode=\" + verifycode; //cookie\n\n    window.localStorage.setItem(\"user_info\", JSON.stringify(userInfo));\n  }\n};\nexport default Tool;","map":{"version":3,"sources":["/Users/HeroMeiKong/JobSpace/JavaScriptWorks/foundao/ReactWeb/dh_h5/src/tool.js"],"names":["Tool","timeModel","time","Math","round","parseFloat","second","parseInt","minute","res","_addZero","fen_miao","obj","addEventHandler","target","type","fn","addEventListener","attachEvent","removeEventHandler","removeEventListener","detachEvent","getVideoModel","name","n","split","end","lastIndexOf","substring","timeFormat","num","isNaN","hour","floor","min","getRequest","url","decodeURI","window","location","href","theRequest","Object","start","str","substr","strs","i","length","e","indexOf","unescape","RandomNum","Min","Max","Range","Rand","random","is_wxBrowser","test","navigator","userAgent","toLowerCase","is_iOS","is_android","is_shici","jumpToApp","vtype","mid","openApp","clientUrl","fail","newurl","encodeURIComponent","appCallBackGetUser","userId","verifycode","isSubed","userInfo","document","cookie","localStorage","setItem","JSON","stringify"],"mappings":"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","sourcesContent":["var Tool = {\n    timeModel(time) {\n        var time = Math.round(parseFloat(time));\n        var second = parseInt(time % 60);\n        var minute = parseInt((time - second) / 60) % 60;\n\n        var res = this._addZero(minute) + \":\" + this._addZero(second);\n        return res\n    },\n    fen_miao(time) {\n        var time = Math.round(parseFloat(time));\n        var second = parseInt(time % 60);\n        var minute = parseInt((time - second) / 60) % 60;\n\n        var res = ((minute === 0) ? '' : (minute + '分')) + second + '秒';\n        return res\n    },\n    _addZero(obj) {\n        if (obj < 10)\n            return \"0\" + obj;\n        else\n            return obj;\n    },\n    addEventHandler(target, type, fn) {\n        if (target.addEventListener) {\n            target.addEventListener(type, fn);\n        } else {\n            target.attachEvent('on' + type, fn);\n        }\n    },\n    removeEventHandler(target, type, fn) {\n        if (target.removeEventListener) {\n            target.removeEventListener(type, fn);\n        } else {\n            target.detachEvent('on' + type, fn);\n        }\n    },\n    getVideoModel(name) {\n        var n = name.split('?')[0];\n        var end = n.lastIndexOf('.');\n        return n.substring(end + 1);\n    },\n    timeFormat(num) {\n        num = parseInt(num)\n        if (!isNaN(num) && num) {\n            var hour = Math.floor(num / 3600)\n            var min = Math.floor((num - hour * 3600) / 60)\n            var second = num % 60\n            // return (hour ? this._addZero(hour) + ':' : '') + this._addZero(min) + ':' + this._addZero(second)\n            return this._addZero(hour) + ':' + this._addZero(min) + ':' + this._addZero(second)\n        } else {\n            return '00:00:00'\n        }\n    },\n\n    getRequest() {\n        var url = decodeURI(window.location.href);\n        var theRequest = new Object();\n        var start = url.lastIndexOf(\"?\");//ios现在是两个问号\n        var end = url.lastIndexOf(\"#\");\n        if (start != -1) {\n            var str = '';\n            if (end > start) {\n                str = url.substring(start + 1, end);\n            } else {\n                str = url.substr(start + 1);\n            }\n            var strs = str.split(\"&\");\n            for (var i = 0; i < strs.length; i++) {\n                var e = strs[i].indexOf('=');\n                theRequest[strs[i].substring(0, e)] = unescape(strs[i].substring(e + 1));\n            }\n        }\n        return theRequest;\n    },\n\n    RandomNum(Min, Max) {\n        var Range = Max - Min;\n        var Rand = Math.random();\n        var num = Min + Math.floor(Rand * Range); //舍去\n        return num;\n    },\n    is_wxBrowser: function () {\n        return /micromessenger/.test(navigator.userAgent.toLowerCase());\n    },\n    is_iOS: function () {\n        return /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent);\n    },\n    is_android: function () {\n        return /android/i.test(navigator.userAgent);\n    },\n    is_shici: function () {\n        return /CntvCBox/i.test(navigator.userAgent);\n    },\n    jumpToApp (vtype, mid) {\n        this.openApp(\"cntvcbox://app.cntv.cn/\" + \"?vtype=\" + vtype + \"&mid=\" + mid, `../download/index.html?vtype=23&mid=${mid}&type=1`);\n    },\n    openApp(clientUrl, fail) {\n        var newurl = encodeURIComponent(clientUrl);\n        window.location.href = 'https://a.app.qq.com/o/simple.jsp?pkgname=cn.cntv&ios_scheme='+newurl+'&android_schema='+newurl;\n    },\n\n    /*获取客户端传回来的值\n    * userId 用户id\n    * verifycode  用户的verifycode\n    * isSubed  是否关注   0 未关注  1 关注\n    * */\n    appCallBackGetUser(userId,verifycode,isSubed){\n        let userInfo = {\n            userId:userId,\n            isSubed:isSubed\n        };\n        document.cookie =\"verifycode=\"+verifycode;//cookie\n        window.localStorage.setItem(\"user_info\",JSON.stringify(userInfo))\n    }\n};\n\nexport default Tool;"]},"metadata":{},"sourceType":"module"}